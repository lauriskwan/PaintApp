<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- CSS only -->
    <!-- <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    /> -->
    <script
      src="https://kit.fontawesome.com/284f4100b8.js"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="./CSS/global.css" />
    <link rel="stylesheet" href="./CSS/sideBar.css" />
    <title>Document</title>
  </head>
  <body>
    <nav class="side-bar">
      <div class="title-wrapper">
        <div class="title">
          <span class="title__name">Welcome, Creator!</span>
        </div>
        <button class="title__button">
          <i class="fa-solid fa-caret-left title__icon" id="title__icon"></i>
        </button>
      </div>

      <!-- <div class="message">
        <i class="message-icon bx bx-message-square-edit"></i>
        <span class="message-text" id="toolExplain"
          >............................</span
        >
        <span class="tooltip">New Mesage</span>
      </div> -->

      <!-- Features list -->

      <ul class="features-list">
        <li class="features-item triggerOpen">
          <i class="fa-solid fa-pen" id="paintTool"></i>
          <span class="features-item-select"
            ><i class="fa-solid fa-pen" id="pen"></i
            ><i
              class="fa-solid fa-paintbrush items-selected"
              id="brush"
              style="margin-left: 29px"
            ></i
            ><i
              class="fa-solid fa-spray-can"
              style="margin-left: 30px"
              id="spray"
            ></i
          ></span>
          <span class="tooltip">Paint tools</span>
        </li>
        <li class="features-item triggerOpen">
          <i class="fa-solid fa-shapes" id="LS"></i>
          <span class="features-item-select"
            ><i
              class="fa-solid fa-minus"
              id="line"
              style="margin-left: 28px"
            ></i
            ><i
              class="fa-solid fa-bezier-curve"
              id="bezierCurve"
              style="margin-left: 30px"
            ></i
            ><i
              class="fa-solid fa-circle"
              style="margin-left: 28px"
              id="circle"
            ></i
            ><i
              class="fa-solid fa-square"
              style="margin-left: 32px"
              id="rectangle"
            ></i
            ><i
              class="fa-solid fa-play"
              style="margin-left: 32px; margin-right: 5px"
              id="triangle"
            ></i
          ></span>
          <span class="tooltip">Lines and shapes</span>
        </li>
        <li class="features-item">
          <i class="fa-solid fa-eraser" id="eraser"></i>
          <span class="features-item-select"></span>
          <span class="tooltip">Eraser</span>
        </li>
        <li class="features-item palette triggerOpen" id="palette">
          <i class="fa-solid fa-palette" id="paletteIcon"></i>
          <span class="features-item-select">
            <input type="color" value="#000000" id="colorPicker" />
          </span>
          <span class="tooltip">Colour Picker</span>
        </li>
        <li class="features-item">
          <i class="fa-solid fa-t" id="insertText"></i>
          <span class="features-item-select"
            ><i
              id="textBox"
              class="fa-solid fa-t"
              style="margin-left: 32px; margin-right: 5px"
            ></i
          ></span>
          <span class="tooltip">Insert text</span>
        </li>
        <li class="features-item">
          <i class="fa-solid fa-fill"></i>
          <span class="features-item-select"></span>
          <span class="tooltip">Fill</span>
        </li>
      </ul>

      <!-- Config list -->

      <ul class="config-list">
        <li class="config-item">
          <i class="fa-solid fa-rotate-left" id="undo">
            <span class="status"></span
          ></i>
          <span class="tooltip">Undo</span>
        </li>
        <li class="config-item">
          <i class="fa-solid fa-rotate-right" id="redo"></i>
          <span class="tooltip">Redo</span>
        </li>
        <li class="config-item">
          <i class="fa-solid fa-trash" id="clear"></i>
          <span class="tooltip">Clear</span>
        </li>
        <li class="config-item">
          <i class="fa-solid fa-download"></i>
          <span class="tooltip">Save</span>
        </li>
      </ul>

      <div class="rangeBar">
        <div class="rangeContainer" id="penRangeContainer">
          <label class="label">Pen Width</label>
          <input type="range" id="penRange" min="0.5" max="5.5" value="1.5" />
        </div>
        <div class="rangeContainer" id="brushRangeContainer">
          <label class="label">Brush Size</label>
          <input type="range" id="brushRange" min="10" max="50" value="20" />
        </div>
        <div class="rangeContainer" id="sprayRangeContainer">
          <label class="label">Spray Area</label>
        <input type="range" id="sprayRange" min="10" max="100" value="30" />
        </div>
        <div class="rangeContainer" id="lineRangeContainer">
          <label class="label">Line Width</label>
        <input type="range" id="lineRange" min="0.5" max="5.5" value="1.5" />
        </div>
        <div class="rangeContainer" id="bCurveRangeContainer">
          <label class="label">Bezier Curve Width</label>
        <input type="range" id="bCurveRange" min="0.5" max="5.5" value="1.5" />
        </div>
        <div class="rangeContainer" id="eraserRangeContainer">
          <label class="label">Eraser Size</label>
        <input type="range" id="eraserRange" min="5" max="30" value="5" />
        </div>
      </div>
      <div id="toolExplain"></div>
    </nav>


    <div class="canvas-container">
      <canvas id="canvas-real"></canvas>
      <canvas id="canvas-draft"></canvas>
    </div>

    <!-- JavaScript Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://code.jquery.com/jquery-3.6.2.min.js"
      integrity="sha256-2krYZKh//PcchRtd+H+VyyQoZ/e3EcrkxhM8ycwASPA="
      crossorigin="anonymous"
    ></script>

    <!-- Functionalities -->
    <script src="./JS/iconChanger.js"></script>
    <script src="./JS/changeWidthAndSize.js"></script>
    <script src="./JS/global.js"></script>
    <script src="./JS/sizing.js"></script>
    <script src="./JS/pen.js"></script>
    <script src="./JS/brush.js"></script>
    <script src="./JS/spray.js"></script>
    <script src="./JS/drawLine.js"></script>
    <script src="./JS/bezierCurve.js"></script>
    <script src="./JS/drawRectangle.js"></script>
    <script src="./JS/drawCircle.js"></script>
    <script src="./JS/drawTriangle.js"></script>
    <script src="./JS/eraser.js"></script>
    <script src="./JS/undoRedo.js"></script>
    <script src="./JS/colorPicker.js"></script>
    <script src="./JS/textBox.js"></script>
    <script src="./JS/text.js"></script>

    <!-- Change drawing tools -->
    <script type="text/javascript">
      $(() => {
        currentFunction = new Pen(contextReal); // Default drawing tool
        $("#pen").click(() => {
          currentFunction = new Pen(contextReal);
          changePenWidth();
        });

        $("#pen").mouseover(function () {
          $("#toolExplain").html("Pen Tool");

          $(this).mouseleave(function () {
            $("#toolExplain").html("............................");
          });
        });

        $("#brush").click(() => {
          currentFunction = new Brush(contextReal);
          changeBrushSize();
        });
        $("#brush").mouseover(function () {
          $("#toolExplain").html("Brush Tool");

          $(this).mouseleave(function () {
            $("#toolExplain").html("............................");
          });
        });

        $("#spray").click(() => {
          currentFunction = new Spray(contextReal);
          changeSprayArea();
        });

        $("#spray").mouseover(function () {
          $("#toolExplain").html("Spray tool");

          $(this).mouseleave(function () {
            $("#toolExplain").html("............................");
          });
        });

        $("#line").click(() => {
          currentFunction = new DrawingLine(contextReal, contextDraft);
          changeLineWidth();
        });

        $("#line").mouseover(function () {
          $("#toolExplain").html("Straight line tool");

          $(this).mouseleave(function () {
            $("#toolExplain").html("............................");
          });
        });

        $("#bezierCurve").click(() => {
          currentFunction = new BezierCurve(contextReal, contextDraft);
          changeBCurveWidth();
        });

        $("#bezierCurve").mouseover(function () {
          $("#toolExplain").html("Bezier Curve Tool");

          $(this).mouseleave(function () {
            $("#toolExplain").html("............................");
          });
        });

        $("#rectangle").click(() => {
          currentFunction = new DrawingRectangle(contextReal, contextDraft);
          // hideSize();
        });

        $("#rectangle").mouseover(function () {
          $("#toolExplain").html("Rectangle Tool");

          $(this).mouseleave(function () {
            $("#toolExplain").html("............................");
          });
        });

        $("#circle").click(() => {
          currentFunction = new DrawingCircle(contextReal, contextDraft);
          // hideSize();
        });

        $("#circle").mouseover(function () {
          $("#toolExplain").html("Circle Tool");

          $(this).mouseleave(function () {
            $("#toolExplain").html("............................");
          });
        });
        $("#triangle").click(() => {
          currentFunction = new DrawingTriangle(contextReal, contextDraft);
          // hideSize();
        });

        $("#triangle").mouseover(function () {
          $("#toolExplain").html("Triangle Tool");

          $(this).mouseleave(function () {
            $("#toolExplain").html("............................");
          });
        });

        $("#textBox").on("click", function () {
          currentFunction = new TextBox(
            contextReal,
            contextDraft,
            currentColor
          );
          $(`.wrapper`).toggle();
          // hideSize();
        });

        $("#insertText").click(function () {
          currentFunction = new insertText(contextReal, contextDraft)
        })

        $("#textBox").mouseover(function () {
          $("#toolExplain").html("Text Box");

          $(this).mouseleave(function () {
            $("#toolExplain").html("............................");
          });
        });

        $("#eraser").click(() => {
          currentFunction = new Eraser(contextReal, contextDraft);
          changeEraserSize();
        });
        $("#undo").click(() => {
          undo();
          // hideSize();
        });
        $("#redo").click(() => {
          redo();
          // hideSize();
        });
        $("#clear").click(() => {
          saveCurrent();
          contextReal.clearRect(0, 0, canvasDraft.width, canvasDraft.height);
          // hideSize();
        });
      });
    </script>
  </body>
</html>
